<!-- saved from url=(0014)about:internet -->
<!-- Note that for the above Mark of the Web to work, the comment must
     be followed by a CR/LF ending, so please do not change the line endings. -->
<html>
<!-- This page is meant to load inside a host browser like IE/FF -->
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1"/>
<script type="text/javascript" src="chrome_frame_tester_helpers.js"></script>
<script type="text/javascript">

function onLoad() {
  if (!TestIfRunningInChrome()) {
    onFailure("ChromeFrameWindowOpen", "Window Open failed :-(",
                "User agent = " + navigator.userAgent.toLowerCase());
  }
}

var new_window;

function OpenPopup() {
  new_window = window.open("http://www.nonexistent.com", "_blank",
                           "left=10, top=10, height=250, width=250");
}

function OnKeyPress() {
  var char_code = String.fromCharCode(event.keyCode);
  if (char_code == 'O') {
    OpenPopup();
  } else if (char_code == 'C') {
    new_window.close();
  }
}

</script>
</head>

<body onload="onLoad();" onkeypress="OnKeyPress();">
<div id="statusPanel" style="border: 1px solid red; width: 100%">
ChromeFrame full tab mode window open test running....<br />
This test validates that a window open request with target blank targeted<br />
at a different domain routes the navigation back to the host browser.
</div>
<p>

</body>
</html>