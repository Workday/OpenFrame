<html>

<head>
<script src="npapi.js"></script>

<script>
function ResizePluginWithinScript() {
  document.getElementById("1").height = "10";
  // Normally WebKit will resize asynchronously. Force it to do it now by asking
  // it to calculate the document height.
  var height = document.body.offsetHeight;
}

</script>
</head>

<body>
<div id="statusPanel" style="border: 1px solid red; width: 100%">
Test running....
</div>

Resize During Paint Test<p>
This test ensures that if a windowless plugin resizes during a paint,
deallocated memory isn't used.<br />

<embed type="application/vnd.npapi-test" 
	src="foo"
	name="resize_during_paint"
	id="1"
	mode="np_embed"
	height="300"
	width="300"
/>

<script>
  var height = document.body.offsetHeight;
</script>

</body>
</html>
