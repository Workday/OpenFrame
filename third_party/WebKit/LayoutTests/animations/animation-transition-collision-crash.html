<script src="../resources/testharness.js"></script>
<script src="../resources/testharnessreport.js"></script>
<style>
@keyframes test {
  from {
    /* These properties have -webkit-* equivalents. */
    background-size: 10px 10px;
    box-shadow: 10px 10px green;
    perspective: 10px;
    transform: translate(10px, 10px);
    perspective-origin: 10px 10px;
    transform-origin: 10px 10px;
  }
}
#target {
  animation: test 1s;
  transition: all 1s;
}
</style>
<div id="target"></div>
<script>
var asyncHandle = async_test('Don\'t crash when animating transitioned properties');
var frameWait = 7;
function frame() {
  frameWait--;
  if (frameWait) {
    requestAnimationFrame(frame);
  } else {
    asyncHandle.done();
  }
}
requestAnimationFrame(frame);
</script>