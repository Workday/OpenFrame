<p>HTMLVideoElement.webkitEnterFullScreen() in an iframe requires the allowfullscreen attribute</p>
<script src="full-screen-test.js"></script>
<script src="../media/media-file.js"></script>
<script>
var frame, video;

function canplaythrough() {
    testExpected("video.webkitDisplayingFullscreen", false);
    runWithKeyDown(function() {
        video.webkitEnterFullScreen();
    });
    waitForEventAndEnd(frame.contentDocument, "webkitfullscreenerror");
}

function runTest() {
    frame = document.getElementById("frame");
    video = frame.contentDocument.querySelector("video");
    video.src = findMediaFile("video", "../../media/content/test");
    video.addEventListener("canplaythrough", canplaythrough);
}
</script>
<iframe id="frame" src="resources/legacy.html" onload="runTest()" width="336" height="256">
</iframe>
