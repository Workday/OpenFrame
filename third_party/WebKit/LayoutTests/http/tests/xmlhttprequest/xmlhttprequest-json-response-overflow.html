<html>
<body>
Verify that XMLHttpRequest handles string overflows.<br/>
You should see PASSED once.<br/>

<script type="text/javascript">

function log (msg)
{
    document.body.appendChild(document.createTextNode(msg));
}

var xhr = new XMLHttpRequest;
xhr.responseType = 'json';
xhr.onreadystatechange = function() {
    if (xhr.readyState != 4)
        return;
    log((xhr.response === null && (xhr.status === 200)) ? "PASSED" : "FAILED");
    if (window.testRunner)
        testRunner.notifyDone();
}
xhr.open("GET", "resources/json-response-overflow.php", true);
xhr.send(null);

if (window.testRunner) {
    testRunner.dumpAsText();
    testRunner.waitUntilDone();
}

</script>
</body>
</html>
